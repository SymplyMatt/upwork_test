{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/data01/virt103469/domeenid/www.redautorent.ee/testsite/rentcar/store/store.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect } from 'react';\nimport { useCookies } from 'react-cookie';\nexport const StoreContext = /*#__PURE__*/React.createContext();\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_CATALOG\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        catalog: action.payload\n      });\n\n    case \"CHANGE_LANG\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        lang: action.payload\n      });\n\n    default:\n      return {\n        state\n      };\n  }\n};\n\nexport const StoreContextProvider = ({\n  children\n}) => {\n  const [cookies, setCookie] = useCookies(['lang']);\n  const defaultContext = {\n    lang: cookies.lang || 'et',\n    catalog: false\n  };\n  const [state, dispatch] = React.useReducer(reducer, defaultContext);\n\n  const setLang = lang => {\n    setCookie('lang', lang, {\n      path: '/',\n      secure: true,\n      sameSite: 'Lax'\n    });\n    dispatch({\n      type: 'CHANGE_LANG',\n      payload: lang\n    });\n  };\n\n  const setCatalog = cars => dispatch({\n    type: 'SET_CATALOG',\n    payload: cars\n  });\n\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: {\n      state,\n      setLang,\n      setCatalog\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 9\n  }, this);\n};","map":{"version":3,"sources":["/data01/virt103469/domeenid/www.redautorent.ee/testsite/rentcar/store/store.js"],"names":["React","useState","useEffect","useCookies","StoreContext","createContext","reducer","state","action","type","catalog","payload","lang","StoreContextProvider","children","cookies","setCookie","defaultContext","dispatch","useReducer","setLang","path","secure","sameSite","setCatalog","cars"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA,OAAO,MAAMC,YAAY,gBAAGJ,KAAK,CAACK,aAAN,EAArB;;AAEP,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC/B,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,aAAL;AACI,6CAAYF,KAAZ;AAAmBG,QAAAA,OAAO,EAAEF,MAAM,CAACG;AAAnC;;AACJ,SAAK,aAAL;AACI,6CAAYJ,KAAZ;AAAmBK,QAAAA,IAAI,EAAEJ,MAAM,CAACG;AAAhC;;AAEJ;AACI,aAAO;AAAEJ,QAAAA;AAAF,OAAP;AAPR;AASH,CAVD;;AAYA,OAAO,MAAMM,oBAAoB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAClD,QAAM,CAACC,OAAD,EAAUC,SAAV,IAAuBb,UAAU,CAAC,CAAC,MAAD,CAAD,CAAvC;AAEA,QAAMc,cAAc,GAAG;AACnBL,IAAAA,IAAI,EAAEG,OAAO,CAACH,IAAR,IAAgB,IADH;AAEnBF,IAAAA,OAAO,EAAE;AAFU,GAAvB;AAIA,QAAM,CAACH,KAAD,EAAQW,QAAR,IAAoBlB,KAAK,CAACmB,UAAN,CAAiBb,OAAjB,EAA0BW,cAA1B,CAA1B;;AACA,QAAMG,OAAO,GAAIR,IAAD,IAAU;AACtBI,IAAAA,SAAS,CAAC,MAAD,EAASJ,IAAT,EAAe;AAAES,MAAAA,IAAI,EAAE,GAAR;AAAaC,MAAAA,MAAM,EAAE,IAArB;AAA2BC,MAAAA,QAAQ,EAAE;AAArC,KAAf,CAAT;AACAL,IAAAA,QAAQ,CAAC;AAACT,MAAAA,IAAI,EAAE,aAAP;AAAsBE,MAAAA,OAAO,EAAEC;AAA/B,KAAD,CAAR;AACH,GAHD;;AAIA,QAAMY,UAAU,GAAIC,IAAD,IAAUP,QAAQ,CAAC;AAAET,IAAAA,IAAI,EAAE,aAAR;AAAuBE,IAAAA,OAAO,EAAEc;AAAhC,GAAD,CAArC;;AACA,sBACI,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAC1BlB,MAAAA,KAD0B;AAE1Ba,MAAAA,OAF0B;AAG1BI,MAAAA;AAH0B,KAA9B;AAAA,cAKKV;AALL;AAAA;AAAA;AAAA;AAAA,UADJ;AASH,CAtBM","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useCookies } from 'react-cookie'\n\nexport const StoreContext = React.createContext()\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case \"SET_CATALOG\":\n            return { ...state, catalog: action.payload }\n        case \"CHANGE_LANG\":\n            return { ...state, lang: action.payload }\n\n        default:\n            return { state }\n    }\n}\n\nexport const StoreContextProvider = ({ children }) => {\n    const [cookies, setCookie] = useCookies(['lang'])\n\n    const defaultContext = {\n        lang: cookies.lang || 'et',\n        catalog: false\n    }\n    const [state, dispatch] = React.useReducer(reducer, defaultContext)\n    const setLang = (lang) => {\n        setCookie('lang', lang, { path: '/', secure: true, sameSite: 'Lax'});\n        dispatch({type: 'CHANGE_LANG', payload: lang});\n    }\n    const setCatalog = (cars) => dispatch({ type: 'SET_CATALOG', payload: cars}) \n    return (\n        <StoreContext.Provider value={{\n            state,\n            setLang,\n            setCatalog\n        }}>\n            {children}\n        </StoreContext.Provider>\n    )\n}"]},"metadata":{},"sourceType":"module"}