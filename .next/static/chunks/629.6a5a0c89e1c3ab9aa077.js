"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{629:function(e,a,s){s.r(a),s.d(a,{default:function(){return g}});var n=s(266),t=s(809),r=s.n(t),l=s(7294),i=s(1163),c=s(2189),o=s(944),u=s(9376),d=s(5893),m=function(){var e=(0,l.useContext)(o.x).state.catalog,a=(0,l.useContext)(c.q).state.auto,s=(0,l.useState)(!1),n=s[0],t=s[1];if((0,l.useEffect)((function(){e&&e.forEach((function(e){e.model==a&&t(e)}))}),[a]),!n)return(0,d.jsx)("div",{className:"car__card",children:"Loading..."});var r=JSON.parse(n.Images)[0];return(0,d.jsxs)("div",{className:"car__card",children:[(0,d.jsx)("img",{src:r}),(0,d.jsxs)("div",{className:"car__card-parameters",children:[(0,d.jsxs)("ul",{className:"parameters car-parameters",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"Auto"}),(0,d.jsx)("span",{className:"red bold parametr-value",children:n.model})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"Aasta"}),(0,d.jsx)("span",{className:"bold parametr-value",children:n.Year})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"Mootor"}),(0,d.jsx)("span",{className:"bold parametr-value",children:n.Engine})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"K\xfctus"}),(0,d.jsx)("span",{className:"bold parametr-value",children:"Diesel"==n.Fuel?"Diisel":"Bensiin ".concat(n.Fuel)})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"K\xe4igukast"}),(0,d.jsx)("span",{className:"bold parametr-value",children:"Manual"==n.Transmission?"Manuaal":"Auto"})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"Uste arv"}),(0,d.jsx)("span",{className:"bold parametr-value",children:n.Doors})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"K\xfctusekulu"}),(0,d.jsxs)("span",{className:"bold parametr-value",children:[n.Consumption,"Gas"!==n.Fuel?" l":" \u20ac","/100 km"]})]})]}),(0,d.jsxs)("ul",{className:"parameters rent-parameters",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"1 P\xe4ev"}),(0,d.jsxs)("span",{className:"bold parametr-value",children:[n.Day," \u20ac"]})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"1-6 P\xe4eva"}),(0,d.jsxs)("span",{className:"bold parametr-value",children:[n.Sixday," \u20ac /p\xe4ev"]})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"1 N\xe4dal"}),(0,d.jsxs)("span",{className:"bold parametr-value",children:[n.Week," \u20ac"]})]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"parametr-name",children:"1 Kuu"}),(0,d.jsxs)("span",{className:"bold parametr-value",children:[n.Month," \u20ac (",(n.Month/30).toFixed(2)," \u20ac /p\xe4ev)"]})]})]})]})]})},p=s(795),h=s(9954),x=s(6501),j=function(e){var a=e.close;return(0,l.useEffect)((function(){var e=document.querySelector("body");return e.classList.add("overflow-hidden"),function(){return e.classList.remove("overflow-hidden")}})),(0,d.jsx)("div",{id:"wrapper",onClick:function(e){return"wrapper"===e.target.id&&a()},className:"popup-wrapper",children:(0,d.jsxs)("div",{className:"popup-content",children:[(0,d.jsx)("div",{onClick:a,className:"icon icon__close popup-close"}),(0,d.jsx)("div",{className:"popup-content__message-title",children:"Oleme Teie broneerimise p\xe4ringu k\xe4tte saanud"}),(0,d.jsxs)("div",{className:"popup-content__message-message",children:[(0,d.jsxs)("p",{children:["Meie klienditeenindaja v\xf5tab teiega broneeringu kinnitamiseks ",(0,d.jsx)("span",{className:"red",children:"30 minuti"})," jooksul \xfchendust."]}),(0,d.jsxs)("p",{children:["Kui Teil on tekkinud k\xfcsimusi siis palun helistage numbril ",(0,d.jsx)("span",{className:"red",children:(0,d.jsx)("a",{className:"red",href:"tel:+3725535603",children:"+3725535603"})})]})]}),(0,d.jsx)("button",{onClick:a,className:"button",children:"Sain aru, j\xe4\xe4n ootama"})]})})},f=function(){var e=(0,l.useContext)(o.x),a=(0,l.useContext)(c.q),s=a.state.auto,t=e.state.catalog;function i(){return(i=(0,n.Z)(r().mark((function a(){var s,n;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(u._n+"api/catalog");case 2:return s=a.sent,a.next=5,s.json();case 5:n=a.sent,e.setCatalog(n);case 7:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return(0,l.useEffect)((function(){t?s||a.setForm("SET_AUTO",t[0].model):function(){i.apply(this,arguments)}()}),[]),(0,d.jsx)(d.Fragment,{children:t?(0,d.jsx)("select",{defaultValue:a.state.auto,onChange:function(e){for(var s=e.target.childNodes,n=0;n<s.length;n++)s[n].selected&&a.setForm("SET_AUTO",s[n].value)},children:t.map((function(e){return(0,d.jsx)("option",{"data-id":e.id,value:e.model,children:e.model},e.model)}))}):(0,d.jsx)("p",{children:"Loading..."})})},v=s(7287),N=s(1664);function g(){var e=(0,i.useRouter)(),a=(0,l.useContext)(c.q),s=a.state,t=(0,l.useState)(!1),o=t[0],g=t[1],b=(0,l.useState)(!1),S=b[0],T=b[1],k=(0,l.useState)(!1),E=k[0],_=k[1];function y(){return(y=(0,n.Z)(r().mark((function e(a){var s,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(u._n+"api/broner",{method:"POST",body:JSON.stringify(a)});case 2:return s=e.sent,e.next=5,s.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,d.jsxs)(p.Z,{title:"Autorent - taotlus",children:[E&&(0,d.jsx)(j,{close:function(){e.push("/kontakt")}}),o&&(0,d.jsx)("span",{className:"red bold",children:o}),S&&(0,d.jsx)(v.B,{}),(0,d.jsxs)("section",{className:"autorendi",children:[(0,d.jsxs)("div",{className:"breadcrumbs",children:[(0,d.jsx)("span",{className:"breadcrumb-parent",children:(0,d.jsx)(N.default,{href:"/autod",children:(0,d.jsx)("a",{children:"Autod/"})})}),(0,d.jsx)("span",{className:"breadcrumb-current",children:"Autorendi p\xe4ringu vorm"})]}),(0,d.jsxs)("h2",{children:[(0,d.jsx)("span",{className:"red",children:"Autorendi"})," p\xe4ringu vorm"]}),(0,d.jsxs)("p",{children:["T\xe4itke taotlus ja meie juht v\xf5tab teiega \xfchendust ",(0,d.jsx)("span",{className:"red",children:"30 minuti"})," jooksul"]})]}),(0,d.jsxs)("section",{className:"autorendi-broner",children:[(0,d.jsxs)("form",{className:"form autorendi-form",children:[(0,d.jsx)("span",{className:"bold",children:"Contact information"}),(0,d.jsxs)("div",{className:"form-person",children:[(0,d.jsxs)("label",{children:["Nimi:",(0,d.jsx)("input",{type:"text",name:"name",onChange:function(e){return a.setForm("SET_NAME",e.target.value)},defaultValue:a.name,placeholder:"Alex",required:!0})]}),(0,d.jsxs)("label",{children:["Perekonnanimi:",(0,d.jsx)("input",{type:"text",name:"surname",placeholder:"Petrov",onChange:function(e){return a.setForm("SET_SURNAME",e.target.value)},defaultValue:a.surname})]}),(0,d.jsxs)("label",{children:["E-mail:",(0,d.jsx)("input",{type:"text",name:"email",placeholder:"petrov@gmail.com",onChange:function(e){return a.setForm("SET_EMAIL",e.target.value)},defaultValue:a.email})]}),(0,d.jsxs)("label",{children:["Koduaadress:",(0,d.jsx)("input",{type:"text",name:"address",placeholder:"Vilnus, Krony 44",onChange:function(e){return a.setForm("SET_ADDRESS",e.target.value)},defaultValue:a.address})]}),(0,d.jsxs)("label",{children:["Tel. number:",(0,d.jsx)("input",{type:"text",name:"phone",placeholder:"+ XXX-XX-XXX-XX-XX",onChange:function(e){return a.setForm("SET_PHONE",e.target.value)},defaultValue:a.phone,required:!0})]}),(0,d.jsxs)("label",{children:["Isikukood:",(0,d.jsx)("input",{type:"text",name:"zip",placeholder:"\u0425\u0425\u0425",onChange:function(e){return a.setForm("SET_PERSONALID",e.target.value)},defaultValue:a.personalid})]}),(0,d.jsxs)("label",{className:"auto-select",children:["Auto:",(0,d.jsx)(f,{type:"SET_AUTO"})]})]}),(0,d.jsx)("span",{className:"bold",children:"Rendiperiood"}),(0,d.jsxs)("div",{className:"form-date",children:[(0,d.jsxs)("label",{children:["Algus kuup\xe4ev:",(0,d.jsx)(h.Z,{type:"SET_STARTDATE",lang:"et"})]}),(0,d.jsxs)("label",{children:["Algusaeg:",(0,d.jsx)(x.Z,{type:"SET_STARTTIME"})]}),(0,d.jsxs)("label",{children:["tagastamise kuup\xe4ev:",(0,d.jsx)(h.Z,{type:"SET_STOPDATE",lang:"et"})]}),(0,d.jsxs)("label",{children:["tagastamise aeg:",(0,d.jsx)(x.Z,{type:"SET_STOPTIME"})]}),(0,d.jsxs)("label",{className:"additional-information",children:["Lisainfo:",(0,d.jsx)("textarea",{name:"additional",placeholder:"Additional information",onChange:function(e){return a.setForm("SET_ADDITIONAL",e.target.value)},defaultValue:a.additional})]})]})]}),(0,d.jsxs)("div",{className:"autorendi-carcard",children:[(0,d.jsx)(m,{}),(0,d.jsx)("button",{onClick:function(){s.name&&s.phone?(T(!0),function(e){return y.apply(this,arguments)}(s).then((function(e){"ok"==e.status?(T(!1),_(!E)):(T(!1),g("Serveris ilmnes viga. Helistage telefoni teel"))}))):g("Nimi ja telefon on kohustuslikud")},className:"button",children:"Broneeri"}),o&&(0,d.jsx)("span",{className:"red bold",children:o})]})]})]})}},9954:function(e,a,s){s.d(a,{Z:function(){return d}});var n=s(7294),t=s(9198),r=s.n(t),l=(s(7276),s(2823)),i=s(2426),c=s(8523),o=s(2189),u=s(5893);function d(e){var a=e.lang,s=e.type,t=(0,n.useRef)(),l=(0,n.useState)(""),i=l[0],c=l[1],d=(0,n.useContext)(o.q).setForm;return(0,n.useEffect)((function(){d(s,t.current.input.value)}),[i]),(0,u.jsx)(r(),{popperPlacement:"bottom-start",locale:a,dateFormat:"dd.MM.yyyy",selected:i,onSelect:function(e){return c(e)},className:"calendar",ref:t})}(0,t.registerLocale)("et",l.Z),(0,t.registerLocale)("en",i.Z),(0,t.registerLocale)("ru",c.Z)},6501:function(e,a,s){s.d(a,{Z:function(){return u}});var n=s(9198),t=s.n(n),r=s(7294),l=s(7042),i=s(4543),c=s(2189),o=s(5893);function u(e){var a=e.type,s=(0,r.useState)(""),n=s[0],u=s[1],d=(0,r.useContext)(c.q).setForm,m=(0,r.useRef)();return(0,r.useEffect)((function(){d(a,m.current.input.value)}),[n]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(t(),{value:n,className:"timepicker",popperPlacement:"bottom-end",popperClassName:"timepicker-popper",selected:n,onChange:function(e){return u(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeFormat:"HH:mm",timeIntervals:60,timeCaption:"",dateFormat:"H:mm",minTime:(0,l.default)((0,i.default)(new Date,0),9),maxTime:(0,l.default)((0,i.default)(new Date,30),16),ref:m})})}},266:function(e,a,s){function n(e,a,s,n,t,r,l){try{var i=e[r](l),c=i.value}catch(o){return void s(o)}i.done?a(c):Promise.resolve(c).then(n,t)}function t(e){return function(){var a=this,s=arguments;return new Promise((function(t,r){var l=e.apply(a,s);function i(e){n(l,t,r,i,c,"next",e)}function c(e){n(l,t,r,i,c,"throw",e)}i(void 0)}))}}s.d(a,{Z:function(){return t}})}}]);